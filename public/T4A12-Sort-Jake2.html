Version 8.12	
<h1>Language Translation System</h1>
	
	<div id="google_translate_element"></div>
	
	<div>
		<select id="source-lang">
			<option value="en">English</option>
			<option value="fr">French</option>
			<option value="de">German</option>
			<option value="es">Spanish</option>
		</select>
		<button id="switch-lang-btn">&harr;</button>
		<select id="target-lang">
			<option value="fr">French</option>
			<option value="en">English</option>
			<option value="de">German</option>
			<option value="es">Spanish</option>
		</select>
		<textarea id="original-text" placeholder="Enter text to translate"></textarea>
		<button id="translate-btn">Translate</button>
	</div>

	<div>
		<textarea id="translated-text" placeholder="Translated text"></textarea>
		<button id="translate-back-btn">Translate back</button>
	</div>
	
	<script>
		var sourceLang = 'en';
		var targetLang = 'fr';
		
		function googleTranslateElementInit() {
			new google.translate.TranslateElement({
				pageLanguage: 'en', 
				layout: google.translate.TranslateElement.InlineLayout.SIMPLE
			}, 'google_translate_element');
		}

		$(document).ready(function() {
			$('#switch-lang-btn').click(function() {
				var tmpLang = sourceLang;
				sourceLang = targetLang;
				targetLang = tmpLang;
				
				var tmpText = $('#original-text').val();
				$('#original-text').val($('#translated-text').val());
				$('#translated-text').val(tmpText);
				$('#translation').empty();
			});
			
			$('#translate-btn').click(function() {
				var originalText = $('#original-text').val();
				googleTranslate(originalText, function(result) {
					$('#translation').html(result);
					$('#translated-text').val(result);
				});
			});

			$('#translate-back-btn').click(function() {
				var translatedText = $('#translated-text').val();
				googleTranslate(translatedText, function(result) {
					$('#translation').html(result);
					$('#original-text').val(result);
				});
			});

			function googleTranslate(text, callback) {
				var url = 'https://translate.googleapis.com/translate_a/single?client=gtx&sl=' 
				          + sourceLang + '&tl=' + targetLang + '&dt=t&q=' + encodeURI(text);

				$.ajax({
					url: url,
					dataType: 'jsonp',
					success: function(data) {
						var translatedText = data[0][0][0];
						callback(translatedText);
					}
				});
			}
		});
	</script>
</body>
</html>
