<h1 align=center><font color=red>T4A04 Maze by Fred</font></h1>


<script>

   // global variables here
   let myGlobalX = 0
   let myClock


   // global functions here
   function myHitOther(my1, my2){
       let left1   = parseInt(document.getElementById(my1).style.left)
       let right1  = left1 + parseInt(document.getElementById(my1).style.width)
       let top1    = parseInt(document.getElementById(my1).style.top)   
       let bottom1 = top1 + parseInt(document.getElementById(my1).style.height)
       let left2   = parseInt(document.getElementById(my2).style.left)
       let right2  = left2 + parseInt(document.getElementById(my2).style.width)
       let top2    = parseInt(document.getElementById(my2).style.top)   
       let bottom2 = top2 + parseInt(document.getElementById(my2).style.height)
       if ((right1 >= left2) && (bottom1 >= top2) && (left1 <= right2) && (top1 <= bottom2)){
           return true
       }
   }

   function myCheckHit(){
       if (myHitOther('myImg01','myImg02')){
           //alert('you lose')
           document.getElementById('myImg01').style.left = '20px'
       }   
       
       if (myHitOther('myImg01','myImg03')){
           //alert('you lose')
           document.getElementById('myImg01').style.left = '20px'
       }   
       
       // YOU WIN and go to next level!
       if (myHitOther('myImg01','myImg04')){
           alert('You Win, now go to the next level')
           document.getElementById('myImg01').style.left = '20px'
           location = 'https://www.google.ca'
       }
       // more if statements here
   }

   function moveUp(){
       document.getElementById('myImg01').style.top = parseInt(document.getElementById('myImg01').style.top) - 20 + 'px'
       myCheckHit() // checks for all collisions
   }

   function moveDown(){
       document.getElementById('myImg01').style.top = parseInt(document.getElementById('myImg01').style.top) + 20 + 'px'
       myCheckHit() // checks for all collisions
   }

   function moveLeft(){
       document.getElementById('myImg01').style.left = parseInt(document.getElementById('myImg01').style.left) - 20 + 'px'
       myCheckHit() // checks for all collisions
   }

   function moveRight(){
       document.getElementById('myImg01').style.left = parseInt(document.getElementById('myImg01').style.left) + 20 + 'px'
       myCheckHit() // checks for all collisions
   }

   document.addEventListener('keydown', function(event) {
       switch(event.keyCode){
           case 87: // W key
               moveUp()
               break
           case 83: // S key
               moveDown()
               break
           case 65: // A key
               moveLeft()
               break
           case 68: // D key
               moveRight()
               break
           default:
               break
       }
   })
var myPlayer01 = {
  x: 10,
  y: 10
};

var myEnemy01 = {
  x: 50,
  y: 50,
  speed: 2
};

var myEnemy02 = {
  x: 80,
  y: 80,
  speed: 1.5
};

function update() {
  // Calculate the distance between each enemy and the player
  var dist01 = Math.sqrt((myPlayer01.x - myEnemy01.x) * (myPlayer01.x - myEnemy01.x) + (myPlayer01.y - myEnemy01.y) * (myPlayer01.y - myEnemy01.y));
  var dist02 = Math.sqrt((myPlayer01.x - myEnemy02.x) * (myPlayer01.x - myEnemy02.x) + (myPlayer01.y - myEnemy02.y) * (myPlayer01.y - myEnemy02.y));

  // If the distance is greater than 1 pixel, move the enemy towards the player
  if (dist01 > 1) {
    myEnemy01.x += (myPlayer01.x - myEnemy01.x) * 0.01 * myEnemy01.speed;
    myEnemy01.y += (myPlayer01.y - myEnemy01.y) * 0.01 * myEnemy01.speed;
  }
  
  if (dist02 > 1) {
    myEnemy02.x += (myPlayer01.x - myEnemy02.x) * 0.01 * myEnemy02.speed;
    myEnemy02.y += (myPlayer01.y - myEnemy02.y) * 0.01 * myEnemy02.speed;
  }

  // Draw the player and enemies
  context.clearRect(0, 0, canvas.width, canvas.height);
  context.fillStyle = 'blue';
  context.fillRect(myPlayer01.x, myPlayer01.y, 10, 10);
  context.fillStyle = 'red';
  context.fillRect(myEnemy01.x, myEnemy01.y, 10, 10);
  context.fillRect(myEnemy02.x, myEnemy02.y, 10, 10);

  // Call update() again
  requestAnimationFrame(update);
}

// Call update() to start the game loop
update();
</script>

<input type=button value="Auto Background Right" onclick="{
clearInterval(myClock)
let myTemp = '-100px 0px'
document.getElementById('myBody').style.backgroundPosition = myTemp
myGlobalX = 0
myClock = setInterval(myAutoBackground, 50)
}">

<img id="myImg01" src="https://bengsfort.github.io/assets/pixel-art/MainCharacter_32x32_run.gif" style="position:absolute; top:400px; left:20px; width:50px; height:50px">
<img id="myImg02" src="https://cdna.artstation.com/p/assets/images/images/022/485/264/original/john-abreu-samurai-copia.gif?1575588917" style="position:absolute; top:100px; left:300px; width:50px; height:50px">
<img id="myImg03" src="https://cdna.artstation.com/p/assets/images/images/022/485/264/original/john-abreu-samurai-copia.gif?1575588917" style="position:absolute; top:300px; left:500px; width:50px; height:50px">
<img id="myImg04" src="myGoal01.png"  style="position:absolute; top:200px; left:800px; width:50px; height:50px"> 
</body>
var myPlayer01 = {
  x: 10,
  y: 10
};

var myEnemy01 = {
  x: 50,
  y: 50,
  speed: 2
};

var myEnemy02 = {
  x: 80,
  y: 80,
  speed: 1.5
};

function update() {
  // Calculate the distance between each enemy and the player
  var dist01 = Math.sqrt((myPlayer01.x - myEnemy01.x) * (myPlayer01.x - myEnemy01.x) + (myPlayer01.y - myEnemy01.y) * (myPlayer01.y - myEnemy01.y));
  var dist02 = Math.sqrt((myPlayer01.x - myEnemy02.x) * (myPlayer01.x - myEnemy02.x) + (myPlayer01.y - myEnemy02.y) * (myPlayer01.y - myEnemy02.y));

  // If the distance is greater than 1 pixel, move the enemy towards the player
  if (dist01 > 1) {
    myEnemy01.x += (myPlayer01.x - myEnemy01.x) * 0.01 * myEnemy01.speed;
    myEnemy01.y += (myPlayer01.y - myEnemy01.y) * 0.01 * myEnemy01.speed;
  }
  
  if (dist02 > 1) {
    myEnemy02.x += (myPlayer01.x - myEnemy02.x) * 0.01 * myEnemy02.speed;
    myEnemy02.y += (myPlayer01.y - myEnemy02.y) * 0.01 * myEnemy02.speed;
  }

  // Draw the player and enemies
  context.clearRect(0, 0, canvas.width, canvas.height);
  context.fillStyle = 'blue';
  context.fillRect(myPlayer01.x, myPlayer01.y, 10, 10);
  context.fillStyle = 'red';
  context.fillRect(myEnemy01.x, myEnemy01.y, 10, 10);
  context.fillRect(myEnemy02.x, myEnemy02.y, 10, 10);

  // Call update() again
  requestAnimationFrame(update);
}

// Call update() to start the game loop
update();

